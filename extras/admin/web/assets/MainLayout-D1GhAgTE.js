import{Q as Ce}from"./QTooltip-D4R9T5Fc.js";import{l as de,n as _e,h as y,p as Xe,u as Je,q as gt,t as Qe,v as Ze,x as et,g as Se,y as He,r as p,z as bt,A as tt,c as u,w as O,B as yt,Q as be,C as oe,D as _t,E as $e,G as te,H as St,I as kt,J as Oe,K as wt,L as zt,M as xt,N as Me,O as qt,a as at,P as ce,R as lt,S as pt,U as Tt,V as Ve,o as Ct,W as Re,X as Ot,_ as It,Y as Pt,Z as L,$ as C,a0 as b,f as S,a1 as Bt,a2 as J,a3 as ve,a4 as Z,a5 as ee,a6 as fe,a7 as ue,F as we,a8 as Ie,a9 as se,aa as Pe,ab as Be,ac as he,ad as j,ae as M,af as Le}from"./index-ZajWnxG1.js";import{Q as Lt}from"./QSpace-CfwQ6zIi.js";import{Q as At,a as Mt,b as Qt,c as Ht,d as $t,e as Dt}from"./QLayout-01f6B_Xw.js";import{Q as ge,a as Ee,b as Q,c as Y,d as jt,e as me}from"./format-B8DKuPGh.js";import{Q as Ne}from"./QResizeObserver-CqC5UUgk.js";import{T as ye}from"./TouchPan-B1-PqlLb.js";const Vt=de({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:f,emit:_}){let o=!1,v,r,n=null,t=null,q,x;function l(){v&&v(),v=null,o=!1,n!==null&&(clearTimeout(n),n=null),t!==null&&(clearTimeout(t),t=null),r!==void 0&&r.removeEventListener("transitionend",q),q=null}function h(s,w,m){w!==void 0&&(s.style.height=`${w}px`),s.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,v=m}function g(s,w){s.style.overflowY=null,s.style.height=null,s.style.transition=null,l(),w!==x&&_(w)}function I(s,w){let m=0;r=s,o===!0?(l(),m=s.offsetHeight===s.scrollHeight?0:void 0):(x="hide",s.style.overflowY="hidden"),h(s,m,w),n=setTimeout(()=>{n=null,s.style.height=`${s.scrollHeight}px`,q=H=>{t=null,(Object(H)!==H||H.target===s)&&g(s,"show")},s.addEventListener("transitionend",q),t=setTimeout(q,e.duration*1.1)},100)}function T(s,w){let m;r=s,o===!0?l():(x="show",s.style.overflowY="hidden",m=s.scrollHeight),h(s,m,w),n=setTimeout(()=>{n=null,s.style.height=0,q=H=>{t=null,(Object(H)!==H||H.target===s)&&g(s,"hide")},s.addEventListener("transitionend",q),t=setTimeout(q,e.duration*1.1)},100)}return _e(()=>{o===!0&&l()}),()=>y(Xe,{css:!1,appear:e.appear,onEnter:I,onLeave:T},f.default)}}),ne=gt({}),Rt=Object.keys(et),Fe=de({name:"QExpansionItem",props:{...et,...Ze,...Qe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Je,"click","afterShow","afterHide"],setup(e,{slots:f,emit:_}){const{proxy:{$q:o}}=Se(),v=He(e,o),r=p(e.modelValue!==null?e.modelValue:e.defaultOpened),n=p(null),t=bt(),{show:q,hide:x,toggle:l}=tt({showing:r});let h,g;const I=u(()=>`q-expansion-item q-item-type q-expansion-item--${r.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),T=u(()=>e.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),s=u(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),w=u(()=>{const d={};return Rt.forEach(B=>{d[B]=e[B]}),d}),m=u(()=>s.value===!0||e.expandIconToggle!==!0),H=u(()=>e.expandedIcon!==void 0&&r.value===!0?e.expandedIcon:e.expandIcon||o.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),ie=u(()=>e.disable!==!0&&(s.value===!0||e.expandIconToggle===!0)),re=u(()=>({expanded:r.value===!0,detailsId:t.value,toggle:l,show:q,hide:x})),W=u(()=>{const d=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:o.lang.label[r.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":r.value===!0?"true":"false","aria-controls":t.value,"aria-label":d}});O(()=>e.group,d=>{g!==void 0&&g(),d!==void 0&&E()});function N(d){s.value!==!0&&l(d),_("click",d)}function K(d){d.keyCode===13&&ae(d,!0)}function ae(d,B){B!==!0&&n.value!==null&&n.value.focus(),l(d),St(d)}function $(){_("afterShow")}function V(){_("afterHide")}function E(){h===void 0&&(h=yt()),r.value===!0&&(ne[e.group]=h);const d=O(r,A=>{A===!0?ne[e.group]=h:ne[e.group]===h&&delete ne[e.group]}),B=O(()=>ne[e.group],(A,le)=>{le===h&&A!==void 0&&A!==h&&x()});g=()=>{d(),B(),ne[e.group]===h&&delete ne[e.group],g=void 0}}function U(){const d={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},B=[y(te,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&r.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:H.value})];return ie.value===!0&&(Object.assign(d,{tabindex:0,...W.value,onClick:ae,onKeyup:K}),B.unshift(y("div",{ref:n,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),y(Q,d,()=>B)}function F(){let d;return f.header!==void 0?d=[].concat(f.header(re.value)):(d=[y(Q,()=>[y(Ee,{lines:e.labelLines},()=>e.label||""),e.caption?y(Ee,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&d[e.switchToggleSide===!0?"push":"unshift"](y(Q,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>y(te,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&d[e.switchToggleSide===!0?"unshift":"push"](U()),d}function i(){const d={ref:"item",style:e.headerStyle,class:e.headerClass,dark:v.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return m.value===!0&&(d.clickable=!0,d.onClick=N,Object.assign(d,s.value===!0?w.value:W.value)),y(ge,d,F)}function c(){return oe(y("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:T.value,id:t.value},$e(f.default)),[[_t,r.value]])}function z(){const d=[i(),y(Vt,{duration:e.duration,onShow:$,onHide:V},c)];return e.expandSeparator===!0&&d.push(y(be,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:v.value}),y(be,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:v.value})),d}return e.group!==void 0&&E(),_e(()=>{g!==void 0&&g()}),()=>y("div",{class:I.value},[y("div",{class:"q-expansion-item__container relative-position"},z())])}}),Et=de({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[y("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),y("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),oe(y("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),oe(y("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),We=["vertical","horizontal"],Ae={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ue={prevent:!0,mouse:!0,mouseAllDir:!0},Ye=e=>e>=250?50:Math.ceil(e/5),Nt=de({name:"QScrollArea",props:{...Qe,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:f,emit:_}){const o=p(!1),v=p(!1),r=p(!1),n={vertical:p(0),horizontal:p(0)},t={vertical:{ref:p(null),position:p(0),size:p(0)},horizontal:{ref:p(null),position:p(0),size:p(0)}},{proxy:q}=Se(),x=He(e,q.$q);let l=null,h;const g=p(null),I=u(()=>"q-scrollarea"+(x.value===!0?" q-scrollarea--dark":""));Object.assign(n,{verticalInner:u(()=>n.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:u(()=>n.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),t.vertical.percentage=u(()=>{const i=t.vertical.size.value-n.vertical.value;if(i<=0)return 0;const c=Y(t.vertical.position.value/i,0,1);return Math.round(c*1e4)/1e4}),t.vertical.thumbHidden=u(()=>(e.visible===null?r.value:e.visible)!==!0&&o.value===!1&&v.value===!1||t.vertical.size.value<=n.vertical.value+1),t.vertical.thumbStart=u(()=>e.verticalOffset[0]+t.vertical.percentage.value*(n.verticalInner.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=u(()=>Math.round(Y(n.verticalInner.value*n.verticalInner.value/t.vertical.size.value,Ye(n.verticalInner.value),n.verticalInner.value))),t.vertical.style=u(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),t.vertical.thumbClass=u(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=u(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=u(()=>{const i=t.horizontal.size.value-n.horizontal.value;if(i<=0)return 0;const c=Y(Math.abs(t.horizontal.position.value)/i,0,1);return Math.round(c*1e4)/1e4}),t.horizontal.thumbHidden=u(()=>(e.visible===null?r.value:e.visible)!==!0&&o.value===!1&&v.value===!1||t.horizontal.size.value<=n.horizontal.value+1),t.horizontal.thumbStart=u(()=>e.horizontalOffset[0]+t.horizontal.percentage.value*(n.horizontalInner.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=u(()=>Math.round(Y(n.horizontalInner.value*n.horizontalInner.value/t.horizontal.size.value,Ye(n.horizontalInner.value),n.horizontalInner.value))),t.horizontal.style=u(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[q.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),t.horizontal.thumbClass=u(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=u(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const T=u(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function s(){const i={};return We.forEach(c=>{const z=t[c];Object.assign(i,{[c+"Position"]:z.position.value,[c+"Percentage"]:z.percentage.value,[c+"Size"]:z.size.value,[c+"ContainerSize"]:n[c].value,[c+"ContainerInnerSize"]:n[c+"Inner"].value})}),i}const w=kt(()=>{const i=s();i.ref=q,_("scroll",i)},0);function m(i,c,z){if(We.includes(i)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(i==="vertical"?Me:Oe)(g.value,c,z)}function H({height:i,width:c}){let z=!1;n.vertical.value!==i&&(n.vertical.value=i,z=!0),n.horizontal.value!==c&&(n.horizontal.value=c,z=!0),z===!0&&K()}function ie({position:i}){let c=!1;t.vertical.position.value!==i.top&&(t.vertical.position.value=i.top,c=!0),t.horizontal.position.value!==i.left&&(t.horizontal.position.value=i.left,c=!0),c===!0&&K()}function re({height:i,width:c}){t.horizontal.size.value!==c&&(t.horizontal.size.value=c,K()),t.vertical.size.value!==i&&(t.vertical.size.value=i,K())}function W(i,c){const z=t[c];if(i.isFirst===!0){if(z.thumbHidden.value===!0)return;h=z.position.value,v.value=!0}else if(v.value!==!0)return;i.isFinal===!0&&(v.value=!1);const d=Ae[c],B=(z.size.value-n[c].value)/(n[c+"Inner"].value-z.thumbSize.value),A=i.distance[d.dist],le=h+(i.direction===d.dir?1:-1)*A*B;ae(le,c)}function N(i,c){const z=t[c];if(z.thumbHidden.value!==!0){const d=c==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],B=i[Ae[c].offset]-d,A=z.thumbStart.value-d;if(B<A||B>A+z.thumbSize.value){const le=B-z.thumbSize.value/2,ze=Y(le/(n[c+"Inner"].value-z.thumbSize.value),0,1);ae(ze*Math.max(0,z.size.value-n[c].value),c)}z.ref.value!==null&&z.ref.value.dispatchEvent(new MouseEvent(i.type,i))}}function K(){o.value=!0,l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,o.value=!1},e.delay),e.onScroll!==void 0&&w()}function ae(i,c){g.value[Ae[c].scroll]=i}let $=null;function V(){$!==null&&clearTimeout($),$=setTimeout(()=>{$=null,r.value=!0},q.$q.platform.is.ios?50:0)}function E(){$!==null&&(clearTimeout($),$=null),r.value=!1}let U=null;O(()=>q.$q.lang.rtl,i=>{g.value!==null&&Oe(g.value,Math.abs(t.horizontal.position.value)*(i===!0?-1:1))}),wt(()=>{U={top:t.vertical.position.value,left:t.horizontal.position.value}}),zt(()=>{if(U===null)return;const i=g.value;i!==null&&(Oe(i,U.left),Me(i,U.top))}),_e(w.cancel),Object.assign(q,{getScrollTarget:()=>g.value,getScroll:s,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:m,setScrollPercentage(i,c,z){m(i,c*(t[i].size.value-n[i].value)*(i==="horizontal"&&q.$q.lang.rtl===!0?-1:1),z)}});const F={scroll:t,thumbVertDir:[[ye,i=>{W(i,"vertical")},void 0,{vertical:!0,...Ue}]],thumbHorizDir:[[ye,i=>{W(i,"horizontal")},void 0,{horizontal:!0,...Ue}]],onVerticalMousedown(i){N(i,"vertical")},onHorizontalMousedown(i){N(i,"horizontal")}};return()=>y("div",{class:I.value,onMouseenter:V,onMouseleave:E},[y("div",{ref:g,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[y("div",{class:"q-scrollarea__content absolute",style:T.value},xt(f.default,[y(Ne,{debounce:0,onResize:re})])),y(At,{axis:"both",onScroll:ie})]),y(Ne,{debounce:0,onResize:H}),y(Et,{store:F,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Ke=150,Ft=de({name:"QDrawer",inheritAttrs:!1,props:{...Ze,...Qe,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Je,"onLayout","miniState"],setup(e,{slots:f,emit:_,attrs:o}){const v=Se(),{proxy:{$q:r}}=v,n=He(e,r),{preventBodyScroll:t}=Tt(),{registerTimeout:q,removeTimeout:x}=qt(),l=at(lt,ce);if(l===ce)return console.error("QDrawer needs to be child of QLayout"),ce;let h,g=null,I;const T=p(e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint),s=u(()=>e.mini===!0&&T.value!==!0),w=u(()=>s.value===!0?e.miniWidth:e.width),m=p(e.showIfAbove===!0&&T.value===!1?!0:e.modelValue===!0),H=u(()=>e.persistent!==!0&&(T.value===!0||le.value===!0));function ie(a,k){if(K(),a!==!1&&l.animate(),R(0),T.value===!0){const D=l.instances[z.value];D!==void 0&&D.belowBreakpoint===!0&&D.hide(!1),G(1),l.isContainer.value!==!0&&t(!0)}else G(0),a!==!1&&qe(!1);q(()=>{a!==!1&&qe(!0),k!==!0&&_("show",a)},Ke)}function re(a,k){ae(),a!==!1&&l.animate(),G(0),R(E.value*w.value),pe(),k!==!0?q(()=>{_("hide",a)},Ke):x()}const{show:W,hide:N}=tt({showing:m,hideOnRouteChange:H,handleShow:ie,handleHide:re}),{addToHistory:K,removeFromHistory:ae}=pt(m,N,H),$={belowBreakpoint:T,hide:N},V=u(()=>e.side==="right"),E=u(()=>(r.lang.rtl===!0?-1:1)*(V.value===!0?1:-1)),U=p(0),F=p(!1),i=p(!1),c=p(w.value*E.value),z=u(()=>V.value===!0?"left":"right"),d=u(()=>m.value===!0&&T.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:w.value:0),B=u(()=>e.overlay===!0||e.miniToOverlay===!0||l.view.value.indexOf(V.value?"R":"L")!==-1||r.platform.is.ios===!0&&l.isContainer.value===!0),A=u(()=>e.overlay===!1&&m.value===!0&&T.value===!1),le=u(()=>e.overlay===!0&&m.value===!0&&T.value===!1),ze=u(()=>"fullscreen q-drawer__backdrop"+(m.value===!1&&F.value===!1?" hidden":"")),nt=u(()=>({backgroundColor:`rgba(0,0,0,${U.value*.4})`})),De=u(()=>V.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),ot=u(()=>V.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),it=u(()=>{const a={};return l.header.space===!0&&De.value===!1&&(B.value===!0?a.top=`${l.header.offset}px`:l.header.space===!0&&(a.top=`${l.header.size}px`)),l.footer.space===!0&&ot.value===!1&&(B.value===!0?a.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(a.bottom=`${l.footer.size}px`)),a}),rt=u(()=>{const a={width:`${w.value}px`,transform:`translateX(${c.value}px)`};return T.value===!0?a:Object.assign(a,it.value)}),ut=u(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),st=u(()=>`q-drawer q-drawer--${e.side}`+(i.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(n.value===!0?" q-drawer--dark q-dark":"")+(F.value===!0?" no-transition":m.value===!0?"":" q-layout--prevent-focus")+(T.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${s.value===!0?"mini":"standard"}`+(B.value===!0||A.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(De.value===!0?" q-drawer--top-padding":""))),ct=u(()=>{const a=r.lang.rtl===!0?e.side:z.value;return[[ye,ht,void 0,{[a]:!0,mouse:!0}]]}),dt=u(()=>{const a=r.lang.rtl===!0?z.value:e.side;return[[ye,je,void 0,{[a]:!0,mouse:!0}]]}),vt=u(()=>{const a=r.lang.rtl===!0?z.value:e.side;return[[ye,je,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function xe(){mt(T,e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint)}O(T,a=>{a===!0?(h=m.value,m.value===!0&&N(!1)):e.overlay===!1&&e.behavior!=="mobile"&&h!==!1&&(m.value===!0?(R(0),G(0),pe()):W(!1))}),O(()=>e.side,(a,k)=>{l.instances[k]===$&&(l.instances[k]=void 0,l[k].space=!1,l[k].offset=0),l.instances[a]=$,l[a].size=w.value,l[a].space=A.value,l[a].offset=d.value}),O(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&xe()}),O(()=>e.behavior+e.breakpoint,xe),O(l.isContainer,a=>{m.value===!0&&t(a!==!0),a===!0&&xe()}),O(l.scrollbarWidth,()=>{R(m.value===!0?0:void 0)}),O(d,a=>{X("offset",a)}),O(A,a=>{_("onLayout",a),X("space",a)}),O(V,()=>{R()}),O(w,a=>{R(),Te(e.miniToOverlay,a)}),O(()=>e.miniToOverlay,a=>{Te(a,w.value)}),O(()=>r.lang.rtl,()=>{R()}),O(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ft(),l.animate())}),O(s,a=>{_("miniState",a)});function R(a){a===void 0?Ve(()=>{a=m.value===!0?0:w.value,R(E.value*a)}):(l.isContainer.value===!0&&V.value===!0&&(T.value===!0||Math.abs(a)===w.value)&&(a+=E.value*l.scrollbarWidth.value),c.value=a)}function G(a){U.value=a}function qe(a){const k=a===!0?"remove":l.isContainer.value!==!0?"add":"";k!==""&&document.body.classList[k]("q-body--drawer-toggle")}function ft(){g!==null&&clearTimeout(g),v.proxy&&v.proxy.$el&&v.proxy.$el.classList.add("q-drawer--mini-animate"),i.value=!0,g=setTimeout(()=>{g=null,i.value=!1,v&&v.proxy&&v.proxy.$el&&v.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function ht(a){if(m.value!==!1)return;const k=w.value,D=Y(a.distance.x,0,k);if(a.isFinal===!0){D>=Math.min(75,k)===!0?W():(l.animate(),G(0),R(E.value*k)),F.value=!1;return}R((r.lang.rtl===!0?V.value!==!0:V.value)?Math.max(k-D,0):Math.min(0,D-k)),G(Y(D/k,0,1)),a.isFirst===!0&&(F.value=!0)}function je(a){if(m.value!==!0)return;const k=w.value,D=a.direction===e.side,ke=(r.lang.rtl===!0?D!==!0:D)?Y(a.distance.x,0,k):0;if(a.isFinal===!0){Math.abs(ke)<Math.min(75,k)===!0?(l.animate(),G(1),R(0)):N(),F.value=!1;return}R(E.value*ke),G(Y(1-ke/k,0,1)),a.isFirst===!0&&(F.value=!0)}function pe(){t(!1),qe(!0)}function X(a,k){l.update(e.side,a,k)}function mt(a,k){a.value!==k&&(a.value=k)}function Te(a,k){X("size",a===!0?e.miniWidth:k)}return l.instances[e.side]=$,Te(e.miniToOverlay,w.value),X("space",A.value),X("offset",d.value),e.showIfAbove===!0&&e.modelValue!==!0&&m.value===!0&&e["onUpdate:modelValue"]!==void 0&&_("update:modelValue",!0),Ct(()=>{_("onLayout",A.value),_("miniState",s.value),h=e.showIfAbove===!0;const a=()=>{(m.value===!0?ie:re)(!1,!0)};if(l.totalWidth.value!==0){Ve(a);return}I=O(l.totalWidth,()=>{I(),I=void 0,m.value===!1&&e.showIfAbove===!0&&T.value===!1?W(!1):a()})}),_e(()=>{I!==void 0&&I(),g!==null&&(clearTimeout(g),g=null),m.value===!0&&pe(),l.instances[e.side]===$&&(l.instances[e.side]=void 0,X("size",0),X("offset",0),X("space",!1))}),()=>{const a=[];T.value===!0&&(e.noSwipeOpen===!1&&a.push(oe(y("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ct.value)),a.push(Re("div",{ref:"backdrop",class:ze.value,style:nt.value,"aria-hidden":"true",onClick:N},void 0,"backdrop",e.noSwipeBackdrop!==!0&&m.value===!0,()=>vt.value)));const k=s.value===!0&&f.mini!==void 0,D=[y("div",{...o,key:""+k,class:[ut.value,o.class]},k===!0?f.mini():$e(f.default))];return e.elevated===!0&&m.value===!0&&D.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(Re("aside",{ref:"content",class:st.value,style:rt.value},D,"contentclose",e.noSwipeClose!==!0&&T.value===!0,()=>dt.value)),y("div",{class:"q-drawer-container"},a)}}}),Ge={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Wt(){const{props:e,proxy:{$q:f}}=Se(),_=at(lt,ce);if(_===ce)return console.error("QPageSticky needs to be child of QLayout"),ce;const o=u(()=>{const h=e.position;return{top:h.indexOf("top")!==-1,right:h.indexOf("right")!==-1,bottom:h.indexOf("bottom")!==-1,left:h.indexOf("left")!==-1,vertical:h==="top"||h==="bottom",horizontal:h==="left"||h==="right"}}),v=u(()=>_.header.offset),r=u(()=>_.right.offset),n=u(()=>_.footer.offset),t=u(()=>_.left.offset),q=u(()=>{let h=0,g=0;const I=o.value,T=f.lang.rtl===!0?-1:1;I.top===!0&&v.value!==0?g=`${v.value}px`:I.bottom===!0&&n.value!==0&&(g=`${-n.value}px`),I.left===!0&&t.value!==0?h=`${T*t.value}px`:I.right===!0&&r.value!==0&&(h=`${-T*r.value}px`);const s={transform:`translate(${h}, ${g})`};return e.offset&&(s.margin=`${e.offset[1]}px ${e.offset[0]}px`),I.vertical===!0?(t.value!==0&&(s[f.lang.rtl===!0?"right":"left"]=`${t.value}px`),r.value!==0&&(s[f.lang.rtl===!0?"left":"right"]=`${r.value}px`)):I.horizontal===!0&&(v.value!==0&&(s.top=`${v.value}px`),n.value!==0&&(s.bottom=`${n.value}px`)),s}),x=u(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function l(h){const g=$e(h.default);return y("div",{class:x.value,style:q.value},e.expand===!0?g:[y("div",g)])}return{$layout:_,getStickyContent:l}}const Ut=de({name:"QPageScroller",props:{...Ge,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{...Ge.offset,default:()=>[18,18]}},emits:["click"],setup(e,{slots:f,emit:_}){const{proxy:{$q:o}}=Se(),{$layout:v,getStickyContent:r}=Wt(),n=p(null);let t;const q=u(()=>v.height.value-(v.isContainer.value===!0?v.containerHeight.value:o.screen.height));function x(){return e.reverse===!0?q.value-v.scroll.value.position>e.scrollOffset:v.scroll.value.position>e.scrollOffset}const l=p(x());function h(){const w=x();l.value!==w&&(l.value=w)}function g(){e.reverse===!0?t===void 0&&(t=O(q,h)):I()}O(v.scroll,h),O(()=>e.reverse,g);function I(){t!==void 0&&(t(),t=void 0)}function T(w){const m=Ot(v.isContainer.value===!0?n.value:v.rootRef.value);Me(m,e.reverse===!0?v.height.value:0,e.duration),_("click",w)}function s(){return l.value===!0?y("div",{ref:n,class:"q-page-scroller",onClick:T},r(f)):null}return g(),_e(I),()=>y(Xe,{name:"q-transition--fade"},s)}});let P;const Yt={setup(){return{APP:Be,util:M,api:Le,uix:he,is_logged_in:p(!1),is_logout_progress:p(!1),is_show_menu:p(!1),is_dark_mode:p(!1),active_menu:p({id:{}}),menus:p([])}},created(){P=this;let e=j.auth();P.is_dark_mode=he.dark.active(),P.is_logged_in=M.isString(e.token)&&e.token!==""&&e.logout===!0,Le.call({path:"/menus",onSuccess(f){let _=j.menu(),o,v=M.isString(_.next)?_.next:"";f=M.isArray(f)?f:[],P.menus=[{id:"home",title:"Home",link:"/",icon:"home"}],P.menus.push({separator:!0});for(const r of f){if(r.children?.length){r.icon=M.isString(r.icon)&&r.icon!==""?r.icon:"dashboard";for(const n of r.children)if(n.children?.length){n.icon=M.isString(n.icon)&&n.icon!==""?n.icon:"category";for(const t of n.children)t.icon=M.isString(t.icon)&&t.icon!==""?t.icon:"stream",o=!o&&v===t.link?t:o}else n.icon=M.isString(n.icon)&&n.icon!==""?n.icon:"blur_on",o=!o&&v===n.link?n:o}else r.icon=M.isString(r.icon)&&r.icon!==""?r.icon:"extension",o=!o&&v===r.link?r:o;P.menus.push(r),P.menus.push({separator:!0})}P.active_menu=M.isObject(o)?o:{id:{}},P.is_show_menu=_.show===!0,_.active=P.active_menu,j.menu(_)}})},methods:{on_toggle_menu:function(){P.is_show_menu=!P.is_show_menu;let e=j.menu();e.show=P.is_show_menu,j.menu(e)},on_header_menu_click(){P.active_menu={id:{}};let e=j.menu();delete e.active,j.menu(e),window.location.href=M.webPath()+"/"},on_menu_click(e){if(M.isString(e.link)&&e.link!=="")if(e.noPushRoute){P.active_menu={id:{}};let f=j.menu();delete f.active,j.menu(f),window.location.href=M.webPath()+e.link}else{P.active_menu=e;let f=j.menu();f.active=e,j.menu(f),P.$router.push({path:e.link,query:Object.fromEntries([...new URLSearchParams(e.link.split("?")[1])])})}},on_logout_click(){he.confirm(function(){P.is_logout_progress=!0,j.auth().persistent===!0?(j.auth(null),window.location.href=M.webPath(),P.is_logout_progress=!1):Le.send({path:"/logout",method:"post",onFinish(){P.is_logout_progress=!1},onSuccess(){j.auth(null),window.location.href=M.webPath()}})},"confirm.logout")},on_dark_click(){he.dark.toggle(),this.is_dark_mode=he.dark.active()},menu_title(e){let f="";if(Be?.menuTitle?.parentMenu===!0){let _=Be?.menuTitle?.separator||" &gt;&gt; ";e?.parent?.parent?.title&&(f+=e.parent.parent.title+_),e?.parent?.title&&(f+=e.parent.title+_)}return f+=e.title,f}}},Kt=["innerHTML"];function Gt(e,f,_,o,v,r){const n=Pt("router-view");return C(),L(Dt,{view:"hHh lpR fFf",class:"background-layout"},{default:b(()=>[S(Mt,{class:"header-main",style:Bt((o.APP?.color?.header?"background: "+o.APP.color.header+" !important;":"")+(o.APP?.color?.title?"color: "+o.APP.color.title+" !important;":""))},{default:b(()=>[S(Qt,null,{default:b(()=>[S(ve,{round:"",size:e.$q.screen.gt.sm?"md":"sm","aria-label":o.APP.title,icon:"menu",onClick:r.on_toggle_menu},{default:b(()=>[S(Ce,null,{default:b(()=>[Z(ee(e.$t("label.menu")),1)]),_:1})]),_:1},8,["size","aria-label","onClick"]),S(ve,{flat:"","no-caps":"","no-wrap":"",label:o.APP.title,size:e.$q.screen.gt.sm?"xl":"lg",class:fe("q-pa-xs text-weight-bold "+(e.$q.screen.gt.sm?"q-ml-md":"q-ml-xs")),onClick:f[0]||(f[0]=t=>r.on_header_menu_click())},null,8,["label","size","class"]),S(Lt),S(ve,{round:"",icon:o.is_dark_mode?"light_mode":"dark_mode",size:e.$q.screen.gt.sm?"md":"sm",onClick:r.on_dark_click},{default:b(()=>[S(Ce,null,{default:b(()=>[Z(ee(o.is_dark_mode?e.$t("label.light"):e.$t("label.dark")),1)]),_:1})]),_:1},8,["icon","size","onClick"]),o.is_logged_in?(C(),L(ve,{key:0,round:"",icon:"logout",class:"q-ml-sm",size:e.$q.screen.gt.sm?"md":"sm",loading:o.is_logout_progress,onClick:f[1]||(f[1]=t=>r.on_logout_click())},{default:b(()=>[S(Ce,null,{default:b(()=>[Z(ee(e.$t("label.logout")),1)]),_:1})]),_:1},8,["size","loading"])):J("",!0)]),_:1})]),_:1},8,["style"]),S(Ft,{modelValue:o.is_show_menu,"onUpdate:modelValue":f[2]||(f[2]=t=>o.is_show_menu=t),bordered:"",elevated:"",width:300,breakpoint:400,class:"background-drawer"},{default:b(()=>[S(Nt,{class:fe("fit q-pt-sm")},{default:b(()=>[S(jt,null,{default:b(()=>[(C(!0),ue(we,null,Ie(o.menus,(t,q)=>(C(),ue(we,{key:q},[t.separator?(C(),L(be,{key:0})):t.children?.length?(C(),L(Fe,{key:1,"default-opened":o.active_menu.parent&&t.id===o.active_menu.parent.id||o.active_menu.parent?.parent&&t.id===o.active_menu.parent.parent.id},{header:b(()=>[S(Q,{avatar:"",style:{"min-width":"0px !important"}},{default:b(()=>[S(te,{name:t.icon},null,8,["name"])]),_:2},1024),S(Q,null,{default:b(()=>[se("div",null,[Z(ee(t.title)+" ",1),t.badge===!0?(C(),L(me,{key:0,color:"orange",rounded:"",align:"top",transparent:""})):J("",!0)])]),_:2},1024)]),default:b(()=>[(C(!0),ue(we,null,Ie(t.children,x=>(C(),ue("div",{key:x.id,class:"drawer-child"},[x.separator?(C(),L(be,{key:0})):x.children?.length?(C(),L(Fe,{key:1,"default-opened":o.active_menu.parent&&x.id===o.active_menu.parent.id},{header:b(()=>[S(Q,{avatar:"",style:{"min-width":"0px !important","padding-left":"24px"}},{default:b(()=>[S(te,{name:x.icon},null,8,["name"])]),_:2},1024),S(Q,null,{default:b(()=>[se("div",null,[Z(ee(x.title)+" ",1),x.badge===!0?(C(),L(me,{key:0,color:"orange",rounded:"",align:"top",transparent:""})):J("",!0)])]),_:2},1024)]),default:b(()=>[(C(!0),ue(we,null,Ie(x.children,l=>(C(),ue("div",{key:l.id},[l.separator?(C(),L(be,{key:0})):oe((C(),L(ge,{key:1,clickable:"",onClick:h=>r.on_menu_click(l)},{default:b(()=>[S(Q,{avatar:"",style:{"min-width":"0px !important","padding-left":"48px"}},{default:b(()=>[S(te,{name:l.icon},null,8,["name"])]),_:2},1024),S(Q,{class:fe(o.active_menu.id===l.id?"text-weight-bold":"")},{default:b(()=>[se("div",null,[Z(ee(l.title)+" ",1),l.badge===!0?(C(),L(me,{key:0,color:"orange",rounded:"",align:"top",transparent:""})):J("",!0)])]),_:2},1032,["class"])]),_:2},1032,["onClick"])),[[Pe]])]))),128))]),_:2},1032,["default-opened"])):oe((C(),L(ge,{key:2,clickable:"",onClick:l=>r.on_menu_click(x)},{default:b(()=>[S(Q,{avatar:"",style:{"min-width":"0px !important","padding-left":"24px"}},{default:b(()=>[S(te,{name:x.icon},null,8,["name"])]),_:2},1024),S(Q,{class:fe(o.active_menu.id===x.id?"text-weight-bold":"")},{default:b(()=>[se("div",null,[Z(ee(x.title)+" ",1),x.badge===!0?(C(),L(me,{key:0,color:"orange",rounded:"",align:"top",transparent:""})):J("",!0)])]),_:2},1032,["class"])]),_:2},1032,["onClick"])),[[Pe]])]))),128))]),_:2},1032,["default-opened"])):oe((C(),L(ge,{key:2,clickable:"",onClick:x=>r.on_menu_click(t)},{default:b(()=>[S(Q,{avatar:"",style:{margin:"0px !important",padding:"0px !important","min-width":"0px !important"}},{default:b(()=>[S(te,{name:t.icon},null,8,["name"])]),_:2},1024),S(Q,{class:fe("q-pl-md"+(o.active_menu.id===t.id?" text-weight-bold":""))},{default:b(()=>[Z(ee(t.title),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"])),[[Pe]])],64))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(Ht,null,{default:b(()=>[S($t,null,{default:b(()=>[o.active_menu?.title?(C(),L(ge,{key:0,class:"q-pa-sm q-pl-md q-pb-md text-h6"},{default:b(()=>[o.active_menu.icon?(C(),L(Q,{key:0,avatar:"",style:{"min-width":"0px !important"}},{default:b(()=>[S(te,{name:o.active_menu.icon},null,8,["name"])]),_:1})):J("",!0),S(Q,null,{default:b(()=>[se("div",null,[se("span",{innerHTML:r.menu_title(o.active_menu)},null,8,Kt),o.active_menu.badge===!0?(C(),L(me,{key:0,color:"orange",rounded:"",align:"top",transparent:""})):J("",!0)])]),_:1})]),_:1})):J("",!0),S(n),S(Ut,{position:"bottom-right","scroll-offset":120,offset:[12,12]},{default:b(()=>[S(ve,{round:"",glossy:"",size:"sm",icon:"keyboard_arrow_up",color:"primary"})]),_:1})]),_:1})]),_:1})]),_:1})}const oa=It(Yt,[["render",Gt]]);export{oa as default};
