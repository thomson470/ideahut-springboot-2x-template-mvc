const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Search-DcLEj9nV.js","assets/format-B8DKuPGh.js","assets/index-ZajWnxG1.js","assets/index-G0ic_0eP.css","assets/QTooltip-D4R9T5Fc.js","assets/QTabPanels-HGFJe3oi.js","assets/QResizeObserver-CqC5UUgk.js","assets/QTable-CXYRITav.js","assets/TouchPan-B1-PqlLb.js","assets/QPopupProxy-D0Ly69kw.js","assets/QForm-B5eZWOd2.js","assets/ClosePopup-LSrQ-VjT.js","assets/QSpace-CfwQ6zIi.js","assets/QInnerLoading-DKttGab9.js","assets/QSpinnerGears-BOF8vRdR.js","assets/View-BzbemZjW.js","assets/Edit-BI6WlRYG.js","assets/QFab-CHynsvqb.js"])))=>i.map(i=>d[i]);
import{ae as a,ac as O,ab as W,af as D,_ as G,ag as P,Y as T,a7 as U,$ as y,f,a0 as m,Z as k,a2 as v,a3 as V,aj as Y,an as I,a9 as F,a5 as j,ao as R,a4 as A,G as L,ap as H,aq as X,C as Z,a1 as K,al as Q,F as $,r as S,am as B}from"./index-ZajWnxG1.js";import{Q as q}from"./QTooltip-D4R9T5Fc.js";import{Q as M}from"./QSpace-CfwQ6zIi.js";import{Q as ee,b as le,a as ie,e as te}from"./format-B8DKuPGh.js";import{a as ae,Q as re}from"./QTable-CXYRITav.js";import{Q as J}from"./QInnerLoading-DKttGab9.js";import{Q as oe}from"./QSpinnerGears-BOF8vRdR.js";import{T as ne}from"./TouchPan-B1-PqlLb.js";const x=eval,o={id:{fromPk(e,i){if(a.isDefined(i))return e.type==="STANDARD"?i:JSON.parse(i)},toPk(e,i){let t;if(e.type==="COMPOSITE"){t={};for(const l of e.fields)t[l]=i[l];t=JSON.stringify(t)}else e.type==="EMBEDDED"?t=JSON.stringify(i[e.fields[0]]):e.type==="STANDARD"&&(t=i[e.fields[0]]);return t}},prepare:{toFunction(e){if(a.isArray(e))for(const i of e){let t=i.format;a.isString(t)&&t.startsWith("function")?(t=x("("+t+")"),i.format=t):delete i.format;let l=i.toValue;a.isString(l)&&l.startsWith("function")?(l=x("("+l+")"),i.toValue=l):delete i.toValue;let n=i.nullValue;a.isString(n)&&n.startsWith("function")?(n=x("("+n+")"),i.nullValue=n):delete i.nullValue;let c=i.rowToValue;a.isString(c)&&c.startsWith("function")?(c=x("("+c+")"),i.rowToValue=c):delete i.rowToValue}},options(e){a.isObject(e)&&Object.keys(e).forEach(i=>{let t=o.get.array(e[i]);for(const l of t)(!a.isDefined(l.value)||l.value===null)&&(l.value=void 0);e[i]=t})},children(e){if(a.isArray(e))for(const i of e){o.prepare.children(i.children);let t=o.get.array(i.fields);o.prepare.toFunction(t),i.fields=t;let l=o.get.object(i.table);o.prepare.toFunction(l.columns),i.table=l}},forms(e){if(a.isArray(e))for(const i of e){let t=o.get.array(i.fields);o.prepare.toFunction(t),i.fields=t}},picks(e){a.isObject(e)&&Object.keys(e).forEach(i=>{let t=o.get.object(e[i]),l=o.get.object(t.table);o.prepare.toFunction(l.columns),t.table=l,e[i]=t})}},inject:{pkAndGridId(e,i,t){if(a.isArray(i)){let l;if(e.type==="COMPOSITE")for(const n of i){l={};for(const c of e.fields)l[c]=n[c];Object.keys(l).length===0?l=void 0:l=JSON.stringify(l),n._pk_=l,n._grid_id_=t}else if(e.type==="EMBEDDED")for(const n of i)l=n[e.fields[0]],a.isObject(l)&&Object.keys(l).length!==0?l=JSON.stringify(l):l=void 0,n._pk_=l,n._grid_id_=t;else if(e.type==="STANDARD")for(const n of i)n._pk_=n[e.fields[0]],n._grid_id_=t}else if(a.isObject(i)){let l;if(e.type==="COMPOSITE"){l={};for(const n of e.fields)l[n]=i[n];Object.keys(l).length===0?l=void 0:l=JSON.stringify(l)}else e.type==="EMBEDDED"?(l=i[e.fields[0]],a.isObject(l)&&Object.keys(l).length!==0?l=JSON.stringify(l):l=void 0):e.type==="STANDARD"&&(l=i[e.fields[0]]);i._pk_=l,i._grid_id_=t}}},update:{page(e,i,t){if(e.page=i.index,e.rowsPerPage=i.size,a.isNumber(i.records))e.rowsNumber=i.records;else{let l=i.index*i.size;t!==i.size?e.rowsNumber=l:e.rowsNumber=l+1}}},get:{string(e,i){return a.isString(e)?e:i},number(e,i){return a.isNumber(e)?e:i},object(e){return a.isObject(e)?e:{}},array(e){return a.isArray(e)?e:[]},firstArray(e){if(a.isArray(e)&&e.length>0)return e[0]},pagination(e,i){let t=e?.pagination?e.pagination:i.pagination;return t?(i.pagination=t,t):i.pagination}},copy(e){return JSON.parse(JSON.stringify(e))},clone:{field(e){let i=o.copy(e);return i.format=e.format,i.toValue=e.toValue,i.nullValue=e.nullValue,i.rowToValue=e.rowToValue,i}},validation:{label:e=>a.isString(e.hint)&&e.hint!==""?e.hint:e.label,field(e){let i=e.validations;if(a.isString(i)&&(i=[i]),!a.isArray(i)||!i.length)return!0;let t=o.validation.label,l=a.isDefined(e.value)&&e.value!=null?e.value+"":"",n;for(const c of i)if(n=c.trim().toLowerCase(),n==="required"){if(!l.trim().length)return O.error("error.required",t(e)),!1}else if(n==="number"){let u=+l;if(isNaN(u))return O.error("error.fill_with_numbers",t(e)),!1}else if(n==="email"){if(l=l.trim(),!a.isEmail(l))return O.error("error.fill_with_email",t(e)),!1;e.value=l}else if(n.startsWith("length:")){let u=+n.substring(7).trim();if(!isNaN(u)&&l.length!==u)return O.error("error.fill_with_length",t(e),u),!1}else if(n.startsWith("maxlength:")){let u=+n.substring(10).trim();if(!isNaN(u)&&l.length>u)return O.error("error.fill_with_maxlength",t(e),u),!1}else if(n.startsWith("minlength:")){let u=+n.substring(10).trim();if(!isNaN(u)&&l.length<u)return O.error("error.fill_with_minlength",t(e),u),!1}return!0}},action:{page(e){let i=e.props,t=e.table,{page:l,rowsPerPage:n,sortBy:c,descending:u}=o.get.pagination(i,t),h=[],d=e.search;if(!d.empty){let _,N;for(const b of d.filters)if(_=a.isDefined(b.value)?b.value:"",_!=="")if(b.condition==="BETWEEN")N=a.isDefined(b.value2)?b.value2:"",N!==""&&(b.type==="datetime"&&b.converter==="epoch"&&(_=a.parse.epoch(_,{format:b.pattern||null}),N=a.parse.epoch(N,{format:b.pattern||null})),h.push({field:b.name,condition:b.condition,values:[_,N]}));else{b.type==="datetime"&&b.converter==="epoch"&&(_=a.parse.epoch(_,{format:b.pattern||null}));let E=b.or;if(a.isString(E)&&(E=[E]),E=a.isArray(E)?E:[],E.length){let z={logical:"and",filters:[]};for(let C=0;C<E.length;C++)z.filters.push({field:E[C],logical:C===0?"and":"or",condition:b.condition,value:_});h.push(z)}else h.push({field:b.name,condition:b.condition,value:_})}}let s=e.relations;if(a.isArray(s))for(const _ of s)h.push({field:_.target,condition:"EQUAL",value:_.value});let g=e.definition,w=e.replica,p=o.copy(g.crud);if(a.isNumber(w)&&w>-1&&(p.replica=w,a.isArray(p.joins)))for(const _ of p.joins)_.enableReplica===!0&&(_.replica=p.replica);p.page={index:l,size:n,count:g.table.page.count===!0},p.filters=a.isArray(p.filters)?p.filters:[],p.filters=p.filters.concat(h),c&&(p.orders=[(u?"-":"")+c]),t.loading=!0,t.selected=[],D.call({path:"/crud/page",method:"post",data:p,onFinish(){t.loading=!1},onSuccess(_){a.isObject(_)&&(t.rows=o.get.array(_.data),o.inject.pkAndGridId(g.id,t.rows,g._grid_id_),o.update.page(t.pagination,_,t.rows.length),t.pagination.sortBy=c,t.pagination.descending=u)}})},delete(e){let i=[];if(e?.row)i.push(o.id.fromPk(e.definition.id,e.row._pk_));else for(const t of e.table.selected)i.push(o.id.fromPk(e.definition.id,t._pk_));i.length&&(e.deleting=!1,O.confirm(function(){let t=o.copy(e.definition.crud),l="/crud/delete";i.length===1?t.id=i[0]:(t.ids=i,l+="s");let n=e.replica;a.isNumber(n)&&n>-1&&(t.replica=n),e.deleting=!0,D.call({path:l,method:"post",data:t,onFinish(){e.deleting=!1},onSuccess(c){a.isFunction(e.onSuccess)&&e.onSuccess(c)}})},"confirm.delete"))},save(e){let i={};for(const d of e.fields){if(!o.validation.field(d))return;if(d.type==="datetime"&&d.converter==="epoch")i[d.name]=a.parse.epoch(d.value,{format:d.pattern||null});else if(d.type==="pick")if(d.value===void 0&&d.nullable)if(a.isFunction(d.nullValue)){let s=d.nullValue();a.isObject(s)?Object.keys(s).forEach(g=>{i[g]=s[g]}):i[d.name]=s}else i[d.name]=null;else if(a.isFunction(d.toValue)&&a.isObject(d.value)){let s=d.toValue(d.value);Object.keys(s).forEach(g=>{i[g]=s[g]})}else i[d.name]=d.value;else d.value===void 0&&d.nullable?a.isFunction(d.nullValue)?i[d.name]=d.nullValue():i[d.name]=d.nullEmpty===!0?"":null:i[d.name]=d.value}let t=e.relations;if(a.isArray(t))for(const d of t)i[d.target]=d.value;let l={};Object.keys(i).forEach(d=>{let s=i[d],g=d.split("."),w=l;for(let p=0;p<g.length;p++)w=w[g[p]]=p==g.length-1?s:a.isObject(w[g[p]])?w[g[p]]:{}});let n=e.definition,c=o.copy(n.crud);c.value=l;let u=e.replica;a.isNumber(u)&&u>-1&&(c.replica=u);let h;e.is_edit===!0?(c.id=e.id,h="/crud/update"):h="/crud/create",e.saving=!0,D.call({path:h,method:"post",data:c,onFinish(){e.saving=!1},onSuccess(d){d=o.get.object(d),o.inject.pkAndGridId(n.id,d,n._grid_id_),a.isFunction(e.onSuccess)?e.onSuccess(d):(c=o.copy(n.crud),e.is_edit===!0&&(c?.joins?.length||c?.loads?.length)?(e.saving=!0,c.id=o.copy(e.id),c.replica=e.replica,D.call({path:"/crud/single",method:"post",data:c,onFinish(){e.saving=!1},onSuccess(g){a.isObject(g)&&(g._grid_id_=e.row._grid_id_,g._pk_=e.row._pk_),e.emit("close",{row:g,is_edit:e.is_edit,index:e.index})}})):e.emit("close",{row:d,is_edit:e.is_edit,index:e.index}))}})}},permission:{view(e){let i=a.isObject(e)?e:{};return a.isArray(i.actions)&&i.actions.includes("PAGE")},add(e){let i=a.isObject(e)?e:{};return a.isArray(i.actions)&&i.actions.includes("CREATE")},edit(e){let i=a.isObject(e)?e:{};return a.isArray(i.actions)&&i.actions.includes("UPDATE")},delete(e){let i=a.isObject(e)?e:{};return a.isArray(i.actions)&&i.actions.includes("DELETE")},deletes(e){let i=a.isObject(e)?e:{};return a.isArray(i.actions)&&i.actions.includes("DELETES")}},api:D,config:W,isFunction:a.isFunction,isObject:a.isObject,isDefined:a.isDefined,isBoolean:a.isBoolean,isString:a.isString,isNumber:a.isNumber,isInteger:a.isInteger,isArray:a.isArray,isEmail:a.isEmail,uuid:a.uuid,log:a.log,format:a.format,getFieldValue:a.getFieldValue,dialog:O.dialog,error:O.error,calendar:O.calendar,$h:{isFunction:a.isFunction,isObject:a.isObject,isDefined:a.isDefined,isBoolean:a.isBoolean,isString:a.isString,isNumber:a.isNumber,isInteger:a.isInteger,isArray:a.isArray,isEmail:a.isEmail,uuid:a.uuid,log:a.log,format:a.format,grid:{field(e,i){try{return e[i]}catch{return e}},option(e,i,t,l){try{let n=window.$g,c=a.isString(l)&&l!==""?e[l]:e;return n[i._grid_id_].options[t].find(u=>u.value+""==c+"").label}catch{return e}},date(e,i,t){try{let l=window.$g;return a.format.date(e,{format:t||"YYYY-MM-DD HH:mm:ss",months:l[i._grid_id_].additionals.MONTHS,days:l[i._grid_id_].additionals.DAYS})}catch{return e}}}}};let r;const se=o.uuid();window.$h=o.$h;window.$g={};window.$k=[];const de=(e,i)=>{window.$k.push(e),window.$g[e]=i;let t=window.$k.length-10;if(t>0){const l=window.$k.splice(0,t);for(const n of l)delete window.$g[n]}},ce={components:{Search:P(()=>B(()=>import("./Search-DcLEj9nV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),View:P(()=>B(()=>import("./View-BzbemZjW.js"),__vite__mapDeps([15,2,3,1,4,11,8,12,7,13,14]))),Edit:P(()=>B(()=>import("./Edit-BI6WlRYG.js"),__vite__mapDeps([16,2,3,1,4,7,5,6,8,9,17,11,12,13,14])))},setup(){return{crud:o,is_template_loading:S(!1),template:S({}),permission:S({}),parent:S(null),name:S(null),replica:S(null),replica_changed:S(!1),dialog:S({search:o.dialog.init(()=>r.dialog.search),view:o.dialog.init(),edit:o.dialog.init()}),search:S({filters:[],empty:!0}),table:S({rows:[],columns:[],visibles:[],selected:[],pagination:{},loading:!1,deleting:!1})}},created(){r=this,r.do_load_grid()},beforeUpdate(){this.do_load_grid()},methods:{do_load_grid(){o.isObject(window.$g)||(window.$g={});let e=o.get.string(r.$route.query.parent,"_"),i=o.get.string(r.$route.query.name,"");if(e===r.parent&&i===r.name)return;r.parent=e,r.name=i,r.replica=null;let t=se+"_"+e+"_"+i;if(!window.$g[t])r.is_template_loading||(r.is_template_loading=!0,o.api.call({path:"/grid",params:{name:i,parent:e},onSuccess(l){try{let n=o.get.object(l);n._grid_id_=t;let c=o.get.object(n.table);o.prepare.toFunction(c.columns),n.table=c;let u=o.get.array(n.fields);o.prepare.toFunction(u),n.fields=u;let h=o.get.array(n.children);o.prepare.children(h),n.children=h;let d=o.get.object(n.enums);o.prepare.options(d),n.enums=d;let s=o.get.object(n.options);o.prepare.options(s),n.options=s;let g=o.get.array(n.forms);o.prepare.forms(g),n.forms=g;let w=o.get.object(n.picks);o.prepare.picks(w),n.picks=w,de(t,n),r.template=window.$g[t],r.replica=o.get.firstArray(r.template.replicas),r.replica_changed=!1,r.permission=r.get_permission(),r.do_load_data()}catch(n){o.log("<<get-grid-1::"+t+">>",n)}r.is_template_loading=!1},notify:!0,onError(){r.is_template_loading=!1}}));else{r.template=window.$g[t],r.replica=o.get.firstArray(r.template.replicas),r.replica_changed=!1,r.permission=r.get_permission();try{r.do_load_data()}catch(l){o.log("<<get-grid-2::"+t+">>",l)}}},get_permission(){let e=r.template,i=o.get.object(e.table),t={actions:o.copy(e.actions)},l=i?.action?.exclude?i.action.exclude:[];return t.actions=e.actions.filter(n=>!l.includes(n)),t},do_load_data(){r.table={rows:[],columns:[{name:"_pk_"}],visibles:["_pk_"],selected:[],pagination:{},loading:!1,deleting:!1};let e=r.template,i=o.get.object(e.table),t=o.get.object(i.page),l=o.get.object(i.order);r.replica_changed!==!0&&(r.search={empty:!0,filters:o.copy(o.get.array(i.filters))}),r.table.pagination={page:1,rowsPerPage:t.default,sortBy:l.field,descending:l.descending===!0},r.table.columns=i.columns,r.table.visibles=i.visibles,r.do_request({pagination:r.table.pagination})},do_request(e){o.action.page({props:e,table:r.table,search:r.search,definition:r.template,replica:r.replica})},on_refresh_click(){r.do_request({pagination:r.table.pagination})},on_delete_click(e){o.action.delete({row:e.row,definition:r.template,table:r.table,deleting:r.deleting,replica:r.replica,onSuccess:function(){r.do_request({pagination:r.table.pagination})}})},on_search_click(){o.dialog.show(r.dialog.search,{filters:o.copy(r.search.filters),template:r.template})},on_close_dialog_search(e){if(o.isArray(e)){let i=r.search,t,l;i.filters=e,i.empty=!0;for(const n of i.filters)if(t=o.isDefined(n.value)?n.value:"",l=o.isDefined(n.value2)?n.value2:"",t!==""||l!==""){i.empty=!1;break}o.dialog.hide(r.dialog.search),r.table.pagination.page=1,r.do_request({pagination:r.table.pagination})}},on_view_click(e){o.dialog.show(r.dialog.view,{template:r.template,replica:r.replica,row:e.row})},on_edit_click(e){o.dialog.show(r.dialog.edit,{template:r.template,replica:r.replica,row:e.row,index:e.rowIndex})},on_add_click(){o.dialog.show(r.dialog.edit,{template:r.template,replica:r.replica})},on_close_dialog_edit(e){let i=e?.row;if(i)if(e.is_edit)if(o.isDefined(i._pk_))r.table.rows[e.index]=i;else{o.dialog.hide(r.dialog.edit),setTimeout(function(){o.dialog.show(r.dialog.edit,{template:r.template,replica:r.replica,row:i})},100);return}else r.do_request({pagination:r.table.pagination});o.dialog.hide(r.dialog.edit)},on_page_changed(){let e=+r.table.pagination.page;!isNaN(e)&&e>0&&r.do_request({pagination:r.table.pagination})},on_replica_changed(){r.replica_changed=!0,r.do_load_data()}}},ge={class:"full-width row flex-center text-accent q-gutter-sm"},me={class:"text-subtitle2"},fe={key:0,class:"text-left"},ue={class:"text-caption"};function pe(e,i,t,l,n,c){const u=T("Search"),h=T("View"),d=T("Edit");return y(),U($,null,[f(re,{class:"table-sticky-header q-ma-sm",rows:l.table.rows,columns:l.table.columns,"visible-columns":l.table.visibles,"row-key":"_pk_",loading:l.table.loading,selection:l.crud.isObject(l.template.table)?l.template.table.selection:"single",selected:l.table.selected,"onUpdate:selected":i[2]||(i[2]=s=>l.table.selected=s),pagination:l.table.pagination,"onUpdate:pagination":i[3]||(i[3]=s=>l.table.pagination=s),dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","selected-rows-label":s=>{},"rows-per-page-options":l.crud.isObject(l.template.table)&&l.template.table.page?.options?l.template.table.page.options:[10,20,30],onRequest:c.do_request,"binary-state-sort":"",separator:l.crud.isObject(l.template.table)?l.template.table.separator:"cell",bordered:""},{top:m(()=>[l.crud.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.crud.permission.delete(l.permission)?(y(),k(V,{key:0,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"negative",icon:"delete",disable:!l.table.selected.length,loading:l.table.deleting,onClick:c.on_delete_click},{default:m(()=>[f(q,null,{default:m(()=>[A(j(e.$t("label.delete")),1)]),_:1})]),_:1},8,["disable","loading","onClick"])):v("",!0),l.crud.permission.add(l.permission)?(y(),k(V,{key:1,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"teal",icon:"add",onClick:c.on_add_click},{default:m(()=>[f(q,null,{default:m(()=>[A(j(e.$t("label.new")),1)]),_:1})]),_:1},8,["onClick"])):v("",!0),f(M),l.template.replicas?.length?(y(),k(ae,{key:2,modelValue:l.replica,"onUpdate:modelValue":[i[0]||(i[0]=s=>l.replica=s),c.on_replica_changed],options:l.template.replicas,borderless:"",class:"text-h6",dense:""},{prepend:m(()=>[f(L,{name:"storage",class:"q-mr-sm"})]),option:m(s=>[f(ee,H(X(s.itemProps)),{default:m(()=>[f(le,null,{default:m(()=>[f(ie,{class:"text-h6"},{default:m(()=>[A(j(s.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onUpdate:modelValue"])):v("",!0),f(M),l.search.filters?.length?(y(),k(V,{key:3,glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"deep-orange",icon:"search",onClick:c.on_search_click},{default:m(()=>[l.search.empty?v("",!0):(y(),k(te,{key:0,class:"led-green",floating:""})),f(q,null,{default:m(()=>[A(j(e.$t("label.search")),1)]),_:1})]),_:1},8,["onClick"])):v("",!0),f(V,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:l.table.loading,onClick:c.on_refresh_click},{default:m(()=>[f(q,null,{default:m(()=>[A(j(e.$t("label.refresh")),1)]),_:1})]),_:1},8,["loading","onClick"])]),"no-data":m(({message:s})=>[F("div",ge,[f(L,{size:"2em",name:"block"}),F("span",me,j(s),1)])]),loading:m(()=>[f(J,{showing:"",color:"primary"})]),"header-selection":m(s=>[l.crud.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.crud.permission.deletes(l.permission)?(y(),U("div",fe,[f(R,{dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:s.selected,"onUpdate:modelValue":g=>s.selected=g},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0)]),"body-selection":m(s=>[l.crud.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.crud.permission.deletes(l.permission)?(y(),k(R,{key:0,dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:s.selected,"onUpdate:modelValue":g=>s.selected=g},null,8,["modelValue","onUpdate:modelValue"])):l.crud.isObject(l.template.table)&&l.crud.permission.delete(l.permission)?(y(),k(V,{key:1,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"negative",icon:"delete",onClick:g=>c.on_delete_click(s)},{default:m(()=>[f(q,null,{default:m(()=>[A(j(e.$t("label.delete")),1)]),_:1})]),_:2},1032,["onClick"])):v("",!0),l.crud.permission.edit(l.permission)?(y(),k(V,{key:2,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"primary",icon:"drive_file_rename_outline",onClick:g=>c.on_edit_click(s)},{default:m(()=>[f(q,null,{default:m(()=>[A(j(e.$t("label.edit")),1)]),_:1})]),_:2},1032,["onClick"])):v("",!0),l.crud.permission.view(l.permission)?(y(),k(V,{key:3,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"deep-purple",icon:"visibility",onClick:g=>c.on_view_click(s)},{default:m(()=>[f(q,null,{default:m(()=>[A(j(e.$t("label.view")),1)]),_:1})]),_:2},1032,["onClick"])):v("",!0)]),pagination:m(s=>[s.pagesNumber>2?(y(),k(V,{key:0,glossy:"",size:"sm",icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:s.isFirstPage,onClick:s.firstPage},null,8,["disable","onClick"])):v("",!0),f(V,{glossy:"",size:"sm",icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:s.isFirstPage,onClick:s.prevPage},null,8,["disable","onClick"]),f(Y,{dense:"",borderless:"",type:"number","input-class":"text-center q-ml-xs q-mr-xs","input-style":"max-width: 60px;",modelValue:l.table.pagination.page,"onUpdate:modelValue":[i[1]||(i[1]=g=>l.table.pagination.page=g),c.on_page_changed]},I({_:2},[l.crud.isObject(l.template.table)&&l.crud.isObject(l.template.table.page)&&l.template.table.page.count===!0?{name:"append",fn:m(()=>[F("span",ue," / "+j(s.pagesNumber),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"]),f(V,{glossy:"",size:"sm",icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:s.isLastPage,onClick:s.nextPage},null,8,["disable","onClick"]),s.pagesNumber>2?(y(),k(V,{key:1,glossy:"",size:"sm",icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:s.isLastPage,onClick:s.lastPage},null,8,["disable","onClick"])):v("",!0)]),_:1},8,["rows","columns","visible-columns","loading","selection","selected","pagination","dense","no-data-label","rows-per-page-options","onRequest","separator"]),f(J,{showing:l.is_template_loading},{default:m(()=>[f(oe,{size:"80px",color:"primary"})]),_:1},8,["showing"]),f(Q,{modelValue:l.dialog.search.show,"onUpdate:modelValue":i[4]||(i[4]=s=>l.dialog.search.show=s),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:m(()=>[Z(f(u,{parameters:l.dialog.search.parameters,onClose:c.on_close_dialog_search,style:K(l.dialog.search.style)},null,8,["parameters","onClose","style"]),[[ne,l.dialog.search.onDrag,void 0,{mouse:!0}]])]),_:1},8,["modelValue"]),f(Q,{modelValue:l.dialog.view.show,"onUpdate:modelValue":i[5]||(i[5]=s=>l.dialog.view.show=s),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:m(()=>[f(h,{parameters:l.dialog.view.parameters},null,8,["parameters"])]),_:1},8,["modelValue"]),f(Q,{modelValue:l.dialog.edit.show,"onUpdate:modelValue":i[6]||(i[6]=s=>l.dialog.edit.show=s),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:m(()=>[f(d,{parameters:l.dialog.edit.parameters,onClose:c.on_close_dialog_edit},null,8,["parameters","onClose"])]),_:1},8,["modelValue"])],64)}const _e=G(ce,[["render",pe]]),je=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));export{je as I,o as c};
