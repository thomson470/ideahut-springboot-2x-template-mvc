import{Q as I,b as $,a as O}from"./format-B8DKuPGh.js";import{Q as P}from"./QTooltip-D4R9T5Fc.js";import{_ as W,Z as n,$ as s,a0 as o,f as l,ai as T,a1 as N,a4 as j,a5 as b,C as y,a3 as i,a7 as p,F,a8 as A,aj as r,G as g,a9 as d,a2 as m,Q as v,ak as L,ah as R,r as w}from"./index-ZajWnxG1.js";import{Q,a as x,b as C,c as k,d as S,e as B}from"./QTabPanels-HGFJe3oi.js";import{Q as E}from"./QPopupProxy-D0Ly69kw.js";import{a as q}from"./QTable-CXYRITav.js";import{Q as z}from"./QForm-B5eZWOd2.js";import{C as _}from"./ClosePopup-LSrQ-VjT.js";import{c as V}from"./Index-2Zuzj8Ve.js";import"./QResizeObserver-CqC5UUgk.js";import"./TouchPan-B1-PqlLb.js";import"./QSpace-CfwQ6zIi.js";import"./QInnerLoading-DKttGab9.js";import"./QSpinnerGears-BOF8vRdR.js";let u;const G={props:["parameters"],emits:["close"],setup(){return{crud:V,filters:w([]),template:w({}),enums:w({}),options:w({})}},created(){u=this;let t=u.parameters||{};u.filters=V.isArray(t.filters)?t.filters:[],u.template=V.isObject(t.template)?t.template:{},u.enums={},V.isObject(u.template.enums)&&Object.keys(u.template.enums).forEach(h=>{u.enums[h]=[null].concat(u.template.enums[h])}),u.options={},V.isObject(u.template.options)&&Object.keys(u.template.options).forEach(h=>{u.options[h]=[null].concat(u.template.options[h])})},methods:{on_reset_click(){for(const t of u.filters)delete t.value,delete t.value2},on_filter_click(){for(const t of u.filters)V.isDefined(t.value)&&t.value===null&&delete t.value,V.isDefined(t.value2)&&t.value2===null&&delete t.value2;u.$emit("close",u.filters)}}},Z={key:0},H={key:0,class:"q-mb-xs row"},J={key:1,class:"q-mb-xs"},K={key:0,class:"row"},M={class:"bg-primary"},X={class:"q-pa-xs bg-white row"},Y={class:"col-6 text-left"},f={class:"col-6 text-right"},ee={class:"bg-primary"},ae={class:"q-pa-xs bg-white row"},le={class:"col-6 text-left"},oe={class:"col-6 text-right"},te={class:"bg-primary"},se={class:"q-pa-xs bg-white row"},de={class:"col-6 text-left"},ne={class:"col-6 text-right"},ue={key:2,class:"q-mb-xs"},me={key:0,class:"row"},pe={key:3,class:"q-mb-xs"},ce={key:4,class:"q-mb-xs"},ie={key:0,class:"row"},re={class:"col-6 q-pr-xs text-left"},be={class:"col-6 q-pl-xs text-right"};function ye(t,h,ve,c,_e,U){return s(),n(R,{style:N("width: "+(t.$q.screen.lt.md?"100%;":"50%;"))},{default:o(()=>[l(T,{class:"q-pa-none header-main",style:N(c.crud.config?.color?.header?"background: "+c.crud.config.color.header+" !important;":"")},{default:o(()=>[l(I,{class:"q-pr-none"},{default:o(()=>[l($,null,{default:o(()=>[l(O,{class:"text-h6 text-white"},{default:o(()=>[j(b(t.$t("label.search")),1)]),_:1})]),_:1}),l($,{side:""},{default:o(()=>[y((s(),n(i,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:o(()=>[l(P,null,{default:o(()=>[j(b(t.$t("label.close")),1)]),_:1})]),_:1})),[[_]])]),_:1})]),_:1})]),_:1},8,["style"]),l(T,{style:{"max-height":"70vh"},class:"q-pa-xs q-mt-xs scroll"},{default:o(()=>[(s(!0),p(F,null,A(c.filters,(e,D)=>(s(),p("div",{key:D,class:"q-mb-xs"},[l(z,{onSubmit:U.on_filter_click,onReset:U.on_reset_click},{default:o(()=>[e.type==="words"?(s(),p("div",Z,[e.condition==="BETWEEN"?(s(),p("div",H,[l(r,{type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",autogrow:"",class:"col-6 q-pr-xs",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"]),l(r,{type:"text",label:e.label,modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,filled:"",autogrow:"",class:"col-6 q-pl-xs",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"])])):(s(),n(r,{key:1,type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",autogrow:"",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"]))])):e.type==="datetime"||e.type==="date"||e.type==="time"?(s(),p("div",J,[e.condition==="BETWEEN"?(s(),p("div",K,[l(r,{type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",class:"col-6 q-pr-xs"},{append:o(()=>[l(g,{name:e.type==="time"?"schedule":e.type==="date"?"calendar_month":"event",class:"cursor-pointer"},{default:o(()=>[l(E,{"transition-show":"scale","transition-hide":"scale",cover:"",onBeforeShow:a=>c.crud.calendar.beforeShow(e,"tab","proxy_value","value")},{default:o(()=>[d("div",M,[l(Q,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a,class:"bg-primary text-grey-5 shadow-2 text-subtitle2",align:"justify","no-caps":"","indicator-color":"transparent","active-color":"white"},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(x,{key:0,name:"date"},{default:o(()=>[d("span",null,b(t.$t("label.date")),1)]),_:1})):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(x,{key:1,name:"time"},{default:o(()=>[d("span",null,b(t.$t("label.time")),1)]),_:1})):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),l(C,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(k,{key:0,name:"date",class:"q-pa-none"},{default:o(()=>[l(S,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(k,{key:1,name:"time",class:"q-pa-none"},{default:o(()=>[l(B,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,format24h:"",square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),d("div",X,[d("div",Y,[y(l(i,{label:t.$t("label.cancel"),color:"red","no-caps":""},null,8,["label"]),[[_]])]),d("div",f,[y(l(i,{label:t.$t("label.ok"),color:"secondary","no-caps":"",onClick:a=>e.value=e.proxy_value},null,8,["label","onClick"]),[[_]])])])])]),_:2},1032,["onBeforeShow"])]),_:2},1032,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"]),l(r,{type:"text",label:e.label,modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,filled:"",class:"col-6 q-pr-xs"},{append:o(()=>[l(g,{name:e.type==="time"?"schedule":e.type==="date"?"calendar_month":"event",class:"cursor-pointer"},{default:o(()=>[l(E,{"transition-show":"scale","transition-hide":"scale",cover:"",onBeforeShow:a=>c.crud.calendar.beforeShow(e,"tab2","proxy_value2","value2")},{default:o(()=>[d("div",ee,[l(Q,{modelValue:e.tab2,"onUpdate:modelValue":a=>e.tab2=a,class:"bg-primary text-grey-5 shadow-2 text-subtitle2","no-caps":"","indicator-color":"transparent","active-color":"white"},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(x,{key:0,name:"date"},{default:o(()=>[d("span",null,b(t.$t("label.date")),1)]),_:1})):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(x,{key:1,name:"time"},{default:o(()=>[d("span",null,b(t.$t("label.time")),1)]),_:1})):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),l(C,{modelValue:e.tab2,"onUpdate:modelValue":a=>e.tab2=a},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(k,{key:0,name:"date",class:"q-pa-none"},{default:o(()=>[l(S,{modelValue:e.proxy_value2,"onUpdate:modelValue":a=>e.proxy_value2=a,mask:e.pattern,square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(k,{key:1,name:"time",class:"q-pa-none"},{default:o(()=>[l(B,{modelValue:e.proxy_value2,"onUpdate:modelValue":a=>e.proxy_value2=a,mask:e.pattern,format24h:"",square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),d("div",ae,[d("div",le,[y(l(i,{label:t.$t("label.cancel"),color:"red","no-caps":""},null,8,["label"]),[[_]])]),d("div",oe,[y(l(i,{label:t.$t("label.ok"),color:"secondary","no-caps":"",onClick:a=>e.value2=e.proxy_value2},null,8,["label","onClick"]),[[_]])])])])]),_:2},1032,["onBeforeShow"])]),_:2},1032,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"])])):(s(),n(r,{key:1,type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:""},{append:o(()=>[l(g,{name:e.type==="time"?"schedule":e.type==="date"?"calendar_month":"event",class:"cursor-pointer"},{default:o(()=>[l(E,{"transition-show":"scale","transition-hide":"scale",cover:"",onBeforeShow:a=>c.crud.calendar.beforeShow(e,"tab","proxy_value","value")},{default:o(()=>[d("div",te,[l(Q,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a,class:"bg-primary text-grey-5 shadow-2 text-subtitle2","no-caps":"","indicator-color":"transparent","active-color":"white"},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(x,{key:0,name:"date"},{default:o(()=>[d("span",null,b(t.$t("label.date")),1)]),_:1})):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(x,{key:1,name:"time"},{default:o(()=>[d("span",null,b(t.$t("label.time")),1)]),_:1})):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),l(C,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(k,{key:0,name:"date",class:"q-pa-none"},{default:o(()=>[l(S,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(k,{key:1,name:"time",class:"q-pa-none"},{default:o(()=>[l(B,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,format24h:"",square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),d("div",se,[d("div",de,[y(l(i,{label:t.$t("label.cancel"),color:"red","no-caps":""},null,8,["label"]),[[_]])]),d("div",ne,[y(l(i,{label:t.$t("label.ok"),color:"secondary","no-caps":"",onClick:a=>e.value=e.proxy_value},null,8,["label","onClick"]),[[_]])])])])]),_:2},1032,["onBeforeShow"])]),_:2},1032,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"]))])):e.type==="option"?(s(),p("div",ue,[e.condition==="BETWEEN"?(s(),p("div",me,[l(q,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.label,options:c.options[e.option],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:"",class:"col-6 q-pl-xs"},null,8,["modelValue","onUpdate:modelValue","label","options"]),l(q,{modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,label:e.label,options:c.options[e.option],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:"",class:"col-6 q-pl-xs"},null,8,["modelValue","onUpdate:modelValue","label","options"])])):(s(),n(q,{key:1,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.label,options:c.options[e.option],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:""},null,8,["modelValue","onUpdate:modelValue","label","options"]))])):e.type==="enum"?(s(),p("div",pe,[l(q,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.label,options:c.enums[e.enum],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:""},null,8,["modelValue","onUpdate:modelValue","label","options"])])):(s(),p("div",ce,[e.condition==="BETWEEN"?(s(),p("div",ie,[l(r,{type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",class:"col-6 q-pr-xs"},null,8,["label","modelValue","onUpdate:modelValue"]),l(r,{type:"text",label:e.label,modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,filled:"",class:"col-6 q-pl-xs"},null,8,["label","modelValue","onUpdate:modelValue"])])):e.type?(s(),n(r,{key:1,type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:""},null,8,["label","modelValue","onUpdate:modelValue"])):m("",!0)]))]),_:2},1032,["onSubmit","onReset"])]))),128))]),_:1}),l(v),l(L,{class:"row"},{default:o(()=>[d("div",re,[l(i,{label:t.$t("label.reset"),color:"orange","no-caps":"",glossy:"",onClick:U.on_reset_click},null,8,["label","onClick"])]),d("div",be,[l(i,{label:t.$t("label.filter"),color:"purple","no-caps":"",glossy:"",onClick:U.on_filter_click},null,8,["label","onClick"])])]),_:1})]),_:1},8,["style"])}const Te=W(G,[["render",ye]]);export{Te as default};
